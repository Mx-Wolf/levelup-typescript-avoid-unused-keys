# Демо

## как сделать определение функции безопасным для изменений

Использование особенностей структурной типизации при описании интерфейса функции.

Название интерфейса TypeScript-у не интересно, а важен состав. Мы воспользуемся этим, чтоб обозначить только те свойства, которые нужны для работы функции. Следует использовать минимально необходимый набор свойств.

Ориентировочно это демо для раздела 3.8

## знакомство с проблемой

на примере алгоритма обработки массива записей.

* Тип записи - `i-face-record.ts` поля номер, дата, заказчик, сумма, количество позиций
* Требуются итоговые функции - имя и дата первого заказа в отчетном периоде
* Исключают из интерфейса количество позиций

Требуется лучшая устойчивость

## Развитие событий

После того, как прошел commit 5ef5712084921f9d0ede891354e55d4620dd5d4, демонстрирующий работу редуктора, случились изменения в требованиях. Требуется данные подаются по форме интерфейса OrderLight. в котором нет сведений об общей сумме и количестве позиций в заказе.

При этом исчезла способность редуктора работать в новых условиях.

Как быть?

## Решение задачи

Неужели несущественные для алгоритма поля (ключи) объекта во втором параметре редуктора заставят нас создавать еще другую реализацию?

Предлагаемое решение задачи состоит в том, что бы воспользоваться особенностями структурной типизации и определить для аргумента редуктора отдельный специальный интерфейс с минимально необходимым набором полей.